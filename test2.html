<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projectile Game</title>
    <style>
        .player {
            width: 50px;
            height: 50px;
            background-color: blue;
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
        }

        .spell {
            width: 10px;
            height: 10px;
            background-color: red;
            position: absolute;
            display: none;
        }
    </style>
</head>
<body>
    <div class="player" id="player"></div>
    <div class="spell" id="spell"></div>

    <script>
        class Player {
            constructor() {
                this.element = document.getElementById('player');
                this.positionX = window.innerWidth / 2;
                this.positionY = window.innerHeight - 50;
                this.speed = 5;
                this.moveLeft = false;
                this.moveRight = false;
                this.moveUp = false;
                this.moveDown = false;
                this.updatePosition();
            }

            updatePosition() {
                this.element.style.left = this.positionX + 'px';
                this.element.style.bottom = this.positionY + 'px';
            }

            move() {
                if (this.moveLeft && this.positionX > 0) {
                    this.positionX -= this.speed;
                }
                if (this.moveRight && this.positionX < window.innerWidth - this.element.offsetWidth) {
                    this.positionX += this.speed;
                }
                if (this.moveUp && this.positionY < window.innerHeight - this.element.offsetHeight) {
                    this.positionY += this.speed;
                }
                if (this.moveDown && this.positionY > 0) {
                    this.positionY -= this.speed;
                }
                this.updatePosition();
            }
        }

        class Spell {
            constructor() {
                this.element = document.getElementById('spell');
            }

            launch(x, y) {
                this.element.style.display = 'block';
                this.element.style.bottom = y + 'px';
                this.element.style.left = x + 'px';
                this.interval = setInterval(() => {
                    this.move();
                }, 10);
            }

            move() {
                let bottom = parseInt(this.element.style.bottom);
                if (bottom >= window.innerHeight) {
                    clearInterval(this.interval);
                    this.element.style.display = 'none';
                    this.element.style.bottom = '0px';
                } else {
                    bottom += 5;
                    this.element.style.bottom = bottom + 'px';
                }
            }
        }

        const player = new Player();
        const spell = new Spell();

        document.addEventListener('keydown', function(event) {
            switch(event.key) {
                case 'z':
                    player.moveUp = true;
                    break;
                case 'q':
                    player.moveLeft = true;
                    break;
                case 's':
                    player.moveDown = true;
                    break;
                case 'd':
                    player.moveRight = true;
                    break;
                case 'k':
                    spell.launch(player.positionX + player.element.offsetWidth / 2, player.positionY + player.element.offsetHeight);
                    break;
            }
        });

        document.addEventListener('keyup', function(event) {
            switch(event.key) {
                case 'z':
                    player.moveUp = false;
                    break;
                case 'q':
                    player.moveLeft = false;
                    break;
                case 's':
                    player.moveDown = false;
                    break;
                case 'd':
                    player.moveRight = false;
                    break;
            }
        });

        // Main game loop to move the player
        function gameLoop() {
            player.move();
            requestAnimationFrame(gameLoop);
        }

        // Start the game loop
        gameLoop();
    </script>
</body>
</html>
