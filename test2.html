<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spritesheet Animation</title>
    <style>
        canvas {
            border: 1px solid black;
        }
    </style>
</head>
<body>
    <canvas id="animationCanvas" width="500" height="500"></canvas>

    <script>
        window.onload = function() {
            var canvas = document.getElementById("animationCanvas");
            var ctx = canvas.getContext("2d");
            var spriteSheet = new Image();
            spriteSheet.src = "./img/bot.png";
          // Remplacez "spritesheet.png" par le chemin de votre spritesheet
    
            var spriteSheet2 = new Image();
            spriteSheet2.src = "./img/bot2.png"; // Remplacez "spritesheet.png" par le chemin de votre spritesheet


            var spriteSheetP = new Image();
            spriteSheetP.src = "./img/playerfullbot.png"; // Remplacez "spritesheet.png" par le chemin de votre spritesheet

            var spriteSheet4 = new Image();
            spriteSheet4.src = "./img/bot3.png"; // Remplacez "spritesheet.png" par le chemin de votre spritesheet

            var frameWidth = 39; // Largeur d'un frame dans la spritesheet
            var frameHeight = 61; // Hauteur d'un frame dans la spritesheet
            var frameCount = 4; // Nombre total de frames dans la spritesheet
            var currentFrame = 0; // Frame actuelle
            var rogneX = 0; 
            var rogneY = 0; 


            var frameWidth2 = 50; // Largeur d'un frame dans la spritesheet
            var frameHeight2 = 69; // Hauteur d'un frame dans la spritesheet
            var frameCount2 = 4; // Nombre total de frames dans la spritesheet
            var currentFrame2 = 0; // Frame actuelle
            var rogneX2 = 0; 
            var rogneY2 = 0;
            
            var frameWidth3 = 132; // Largeur d'un frame dans la spritesheet
            var frameHeight3 = 157; // Hauteur d'un frame dans la spritesheet
            var frameCount3 = 4; // Nombre total de frames dans la spritesheet
            var currentFrame3 = 0; // Frame actuelle
            var rogneX3 = 0; 
            var rogneY3 = 0; 

            var frameWidth4 = 48; // Largeur d'un frame dans la spritesheet
            var frameHeight4 = 90; // Hauteur d'un frame dans la spritesheet
            var frameCount4 = 4; // Nombre total de frames dans la spritesheet
            var currentFrame4 = 0; // Frame actuelle
            var rogneX4 = 0; 
            var rogneY4 = 0; 
            var animationTimeout;
 


            spriteSheet4.onload = function() {
                animate();
            };

            
        


            function animate() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                ctx.drawImage(spriteSheet, currentFrame * frameWidth+rogneX, 0+rogneY, frameWidth, frameHeight, 0, 0, frameWidth, frameHeight);
                currentFrame = (currentFrame + 1) % frameCount;


                ctx.drawImage(spriteSheet2, currentFrame2 * frameWidth2+rogneX2, 0+rogneY2, frameWidth2, frameHeight2, 40, 0, frameWidth2, frameHeight2);
                currentFrame2 = (currentFrame2 + 1) % frameCount2;

                ctx.drawImage(spriteSheetP, currentFrame3 * frameWidth3+rogneX3, 0+rogneY3, frameWidth3, frameHeight3, 100, 100, frameWidth3, frameHeight3);
                currentFrame3 = (currentFrame3 + 1) % frameCount3;

                ctx.drawImage(spriteSheet4, currentFrame4 * frameWidth4+rogneX4, 0+rogneY4, frameWidth4, frameHeight4, 400, 0, frameWidth4, frameHeight4);
                currentFrame4 = (currentFrame4 + 1) % frameCount4;



                animationTimeout = setTimeout(function() {
                    requestAnimationFrame(animate);
                 }, 500);
            }

            
            document.addEventListener("keydown", function(event) {
                if (event.key === "z") {
                    clearTimeout(animationTimeout);   
                    spriteSheet2.src = "./img/up2.png";
                    spriteSheet.src = "./img/up1.png";
                    spriteSheet4.src = "./img/up3.png"
                    spriteSheetP.src = "./img/playerfullup.png";;     
                }
                if (event.key === "s") {
                    clearTimeout(animationTimeout);
                    spriteSheet.src = "./img/bot.png"; // Remplacez "spritesheet.png" par le chemin de votre spritesheet
                    spriteSheet2.src = "./img/bot2.png";
                    spriteSheet4.src = "./img/bot3.png";
                    spriteSheetP.src = "./img/playerfullbot.png";
                }   

                if (event.key === "d") {
                    clearTimeout(animationTimeout);
                    spriteSheet2.src = "./img/right2.png";
                    spriteSheet.src = "./img/right.png";
                    spriteSheet4.src = "./img/right3.png";
                    spriteSheetP.src = "./img/playerfullright.png";
                }

                if (event.key === "q") {
                    clearTimeout(animationTimeout);
                    spriteSheet2.src = "./img/left2.png";
                    spriteSheet.src = "./img/left.png";
                    spriteSheet4.src = "./img/left3.png";
                    spriteSheetP.src = "./img/playerfullleft.png";
                }

                if (event.key === "f") {
                    if (rogneY === 0) {
                            rogneY = 61
                            frameHeight = 60
                        } else {
                            rogneY = 0
                            frameHeight = 61;
                        }
                    if (rogneY2 === 0){
                            rogneY2 = 69
                            frameHeight2 = 69
                        } else {
                            rogneY2 = 0
                            frameHeight2 = 69;
                        }
                    if (rogneY4 === 0){
                            rogneY4 = 90
                            frameHeight4 = 90
                        } else {
                            rogneY4 = 0
                            frameHeight4 = 90;
                        }
                }
            });
        };
    </script>
</body>
</html>
